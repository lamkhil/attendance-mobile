<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="Aplikasi Kehadiran Digital DPMPTSP">

  <!-- iOS meta tags & icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="App Name">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png" />

  <title>eHadir</title>
  <link rel="manifest" href="manifest.json">

  <!-- Base href untuk Flutter -->
  <base href="$FLUTTER_BASE_HREF">

  <!-- CSS Splash Screen -->
  <style>
    body,
    html {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
      background: linear-gradient(135deg, #2196F3, #64B5F6);
      /* Flutter Colors.blue gradient */
      font-family: Arial, sans-serif;
    }


    .container {
      width: 100vw;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    .indicator {
      width: 120px;
      height: 120px;
      margin-bottom: 20px;
    }

    .progress-bar {
      width: 120px;
      background-color: #e0e0e0;
      border-radius: 6px;
      overflow: hidden;
    }

    .progress-bar-fill {
      display: block;
      height: 6px;
      background-color: #46494b;
      width: 0%;
      border-radius: 6px;
      transition: width 0.2s ease-in-out;
    }
  </style>
</head>

<body>

  <!-- Splash Screen -->
  <div id="loading_indicator" class="container">
    <!-- Logo -->
    <img class="indicator" src="./icons/logo.png" alt="App Logo" />
    <!-- Progress bar -->
    <div class="progress-bar">
      <div class="progress-bar-fill"></div>
    </div>
  </div>

  <!-- Flutter Bootstrap -->
  <script src="flutter_bootstrap.js" async></script>

  <!-- Script untuk animasi dan hide splash -->
  <script>
    // Animasi progress bar sederhana
    const fill = document.querySelector('.progress-bar-fill');
    let width = 0;
    const interval = setInterval(() => {
      if (width >= 100) clearInterval(interval);
      width += 1;
      fill.style.width = width + '%';
    }, 50); // naik 1% tiap 50ms

    // Hapus splash screen ketika Flutter render frame pertama
    window.addEventListener('flutter-first-frame', () => {
      const splash = document.getElementById('loading_indicator');
      if (splash) splash.remove();
    });
  </script>

</body>

</html>